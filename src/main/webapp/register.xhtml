<!--
   ~ This file is part of Advanced Writing App.
   ~ 
   ~ Advanced Writing App is free software: you can redistribute it and/or modify
   ~ it under the terms of the GNU General Public License as published by
   ~ the Free Software Foundation, either version 3 of the License, or
   ~ (at your option) any later version.
   ~
   ~ Advanced Writing App is distributed in the hope that it will be useful,
   ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
   ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   ~ GNU General Public License for more details.

   ~ You should have received a copy of the GNU General Public License
   ~ along with Advanced Writing App.  If not, see <http://www.gnu.org/licenses/>.
 -->

<!DOCTYPE html>
<html lang="de"
      xmlns:jsf="http://java.sun.com/jsf"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:mc="http://java.sun.com/jsf/composite/mycomponents"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough">

    <head>
        <title>Advanced Writing App</title>
    </head>
    
    <body>

        <div>

            <h:form id="registerForm">
                
                    <h3>#{msg.authorregistration}</h3>
                            
                            <fieldset>
                                <legend>#{msg.personaldata}</legend>
                                
                                <h:outputLabel class="registerform" for="firstname" value="#{msg.firstname}"/>
                                <h:inputText required="true" id="firstname" label="#{msg.firstname}" value="#{registerControl.newAuthor.firstname}" tabindex="1">
                                    <f:validateRegex pattern="[A-Za-zäöüÄÖÜ][A-Za-zäöüÄÖÜ]*"/>
                                </h:inputText>
                                <h:messages id="firstname_messages" class="validationError" for="firstname"  showDetail="true" showSummary="false"/>

                                <h:outputLabel class="registerform" for="lastname" value="#{msg.lastname}"/>
                                <h:inputText required="true" id="lastname" label="#{msg.lastname}" value="#{registerControl.newAuthor.lastname}" tabindex="2">
                                    <f:validateRegex pattern="[A-Za-zäöüÄÖÜ][A-Za-zäöüÄÖÜ]*"/>
                                </h:inputText>
                                <h:messages id="lastname_messages" class="validationError" for="lastname" showDetail="true" showSummary="false"/>

                                <h:outputLabel class="registerform" for="matnr" value="#{msg.matnr}"/>
                                <h:inputText required="true" id="matnr" label="#{msg.matnr}" value="#{registerControl.newAuthor.matnr}" tabindex="3">
                                    <f:validateRegex pattern="[0-9]+"/>
                                </h:inputText>
                                <h:messages id="matnr_messages" class="validationError" for="matnr"  showDetail="true" showSummary="false"/>
                                
                                <h:outputLabel class="registerform" for="password" value="#{msg.password}"/>
                                <h:inputSecret required="true"  id="password" label="#{msg.password}" value="#{registerControl.newAuthor.password}" tabindex="4">
                                    <f:validateLength minimum="2"/>
                                    <f:validateRegex pattern="[A-Za-z0-9]*([A-Za-z][0-9]|[0-9][A-Za-z])[A-Za-z0-9]*"/>
                                </h:inputSecret>
                                <h:messages id="password_messages" class="validationError" for="password" showDetail="true" showSummary="false"/>
                            </fieldset>

                            <div id="buttons">
                                <h:commandButton id="submit" value="#{msg.register}" accesskey="r" action="#{registerControl.register}" rendered="#{!registerControl.registrationSuccessful}" tabindex="5"/>
                            </div>
                            <h:panelGroup id="goToLogin" layout="block" rendered="#{registerControl.registrationSuccessful}">
                                <h:outputText value="#{msg.successgoto}"/>
                                    <h:link value="#{msg.login}" accesskey="l" outcome="index?faces-redirect=true" tabindex="6"/>
                                </h:panelGroup>
                            <h:panelGroup id="alreadyloggedin" class="validation_error" layout="block" rendered="#{registerControl.authorAlreadyRegistered}">
                                <h:outputText value="#{msg.nosuccessauthoralreadyexists}"/>
                            </h:panelGroup>
                        
            </h:form>
        </div>

    </body>


</html>

