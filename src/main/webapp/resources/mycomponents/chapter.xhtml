<!--
   ~ This file is part of Advanced Writing App.
   ~ 
   ~ Advanced Writing App is free software: you can redistribute it and/or modify
   ~ it under the terms of the GNU General Public License as published by
   ~ the Free Software Foundation, either version 3 of the License, or
   ~ (at your option) any later version.
   ~
   ~ Advanced Writing App is distributed in the hope that it will be useful,
   ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
   ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   ~ GNU General Public License for more details.

   ~ You should have received a copy of the GNU General Public License
   ~ along with Advanced Writing App.  If not, see <http://www.gnu.org/licenses/>.
 -->

<!DOCTYPE html>
<html lang="de"
      xmlns:jsf="http://java.sun.com/jsf"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:composite="http://java.sun.com/jsf/composite"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough">

    <!-- INTERFACE -->
    <composite:interface>
        <composite:attribute name="instance" type="at.model.Chapter" required="true"/>
    </composite:interface>

    <!-- IMPLEMENTATION -->
    <composite:implementation>

            <p>
                <span class="chapterTitle"><h:outputText value="#{cc.attrs.instance.title}"/></span>
                
                <h:commandButton styleClass="deletebutton" value="x" action="#{loginControl.paperControl.currentPaper.removeChapter(cc.attrs.instance.title, cc.attrs.instance.section)}">
                    <f:ajax render="#{GUIUtilities.chooseForm()} #{GUIUtilities.chooseForm()}:script"/>
                </h:commandButton>
            
                <h:commandButton styleClass="editbutton" value="#{msg.edit}" action="#{loginControl.paperControl.setPapersCurrentChapter(cc.attrs.instance.title)}">
                    <f:ajax execute="@form" render="#{GUIUtilities.chooseForm()} #{GUIUtilities.chooseForm()}:script"/>
                </h:commandButton>
            
                <span><h:inputText id="hiddenPosNr" class="hidden" value="#{cc.attrs.instance.chapterPosNr}"/></span>
            </p>

    </composite:implementation>

</html>